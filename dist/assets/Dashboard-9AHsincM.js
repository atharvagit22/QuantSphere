var Nt=Object.defineProperty;var jt=(a,t,e)=>t in a?Nt(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var T=(a,t,e)=>jt(a,typeof t!="symbol"?t+"":t,e);import{r as ne,c as Rt,j as p,B as it,i as Yt,d as de,a as St,u as Wt,v as ie,C as st,b as ot,e as Lt,L as It,T as Ct,p as qt,f as Ft,g as Ht,P as At,h as Bt,k as ut,l as Ge,z as Ve}from"./index-BQwJztVw.js";import{C as $t,B as Qt}from"./index-BGRuDrHz.js";import"./lightweight-charts.production-D4lkRJ8h.js";import{O as Xt}from"./OrdersTable-BkaQiVO-.js";import{i as zt,d as Gt}from"./chartSetup-BymEZizQ.js";var ct={exports:{}};(function(a,t){(function(r,n){a.exports=n(ne)})(Rt,function(e){return function(r){var n={};function i(s){if(n[s])return n[s].exports;var c=n[s]={i:s,l:!1,exports:{}};return r[s].call(c.exports,c,c.exports,i),c.l=!0,c.exports}return i.m=r,i.c=n,i.d=function(s,c,l){i.o(s,c)||Object.defineProperty(s,c,{configurable:!1,enumerable:!0,get:l})},i.n=function(s){var c=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(c,"a",c),c},i.o=function(s,c){return Object.prototype.hasOwnProperty.call(s,c)},i.p="/",i(i.s=11)}([function(r,n,i){(function(s){if(s.env.NODE_ENV!=="production"){var c=typeof Symbol=="function"&&Symbol.for&&Symbol.for("react.element")||60103,l=function(m){return typeof m=="object"&&m!==null&&m.$$typeof===c},h=!0;r.exports=i(14)(l,h)}else r.exports=i(16)()}).call(n,i(2))},function(r,n){r.exports=e},function(r,n){var i=r.exports={},s,c;function l(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?s=setTimeout:s=l}catch{s=l}try{typeof clearTimeout=="function"?c=clearTimeout:c=h}catch{c=h}})();function m(u){if(s===setTimeout)return setTimeout(u,0);if((s===l||!s)&&setTimeout)return s=setTimeout,setTimeout(u,0);try{return s(u,0)}catch{try{return s.call(null,u,0)}catch{return s.call(this,u,0)}}}function g(u){if(c===clearTimeout)return clearTimeout(u);if((c===h||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(u);try{return c(u)}catch{try{return c.call(null,u)}catch{return c.call(this,u)}}}var M=[],x=!1,b,w=-1;function f(){!x||!b||(x=!1,b.length?M=b.concat(M):w=-1,M.length&&o())}function o(){if(!x){var u=m(f);x=!0;for(var v=M.length;v;){for(b=M,M=[];++w<v;)b&&b[w].run();w=-1,v=M.length}b=null,x=!1,g(u)}}i.nextTick=function(u){var v=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)v[_-1]=arguments[_];M.push(new y(u,v)),M.length===1&&!x&&m(o)};function y(u,v){this.fun=u,this.array=v}y.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function d(){}i.on=d,i.addListener=d,i.once=d,i.off=d,i.removeListener=d,i.removeAllListeners=d,i.emit=d,i.prependListener=d,i.prependOnceListener=d,i.listeners=function(u){return[]},i.binding=function(u){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(u){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(s){return s.reduce(function(c,l){return c+l})/s.length}},function(r,n,i){function s(l){return function(){return l}}var c=function(){};c.thatReturns=s,c.thatReturnsFalse=s(!1),c.thatReturnsTrue=s(!0),c.thatReturnsNull=s(null),c.thatReturnsThis=function(){return this},c.thatReturnsArgument=function(l){return l},r.exports=c},function(r,n,i){(function(s){var c=function(m){};s.env.NODE_ENV!=="production"&&(c=function(m){if(m===void 0)throw new Error("invariant requires an error message argument")});function l(h,m,g,M,x,b,w,f){if(c(m),!h){var o;if(m===void 0)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var y=[g,M,x,b,w,f],d=0;o=new Error(m.replace(/%s/g,function(){return y[d++]})),o.name="Invariant Violation"}throw o.framesToPop=1,o}}r.exports=l}).call(n,i(2))},function(r,n,i){var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";r.exports=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(s){return Math.min.apply(Math,s)}},function(r,n,i){(function(s){var c=i(4),l=c;if(s.env.NODE_ENV!=="production"){var h=function(g){for(var M=arguments.length,x=Array(M>1?M-1:0),b=1;b<M;b++)x[b-1]=arguments[b];var w=0,f="Warning: "+g.replace(/%s/g,function(){return x[w++]});typeof console<"u"&&console.error(f);try{throw new Error(f)}catch{}};l=function(g,M){if(M===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(M.indexOf("Failed Composite propType: ")!==0&&!g){for(var x=arguments.length,b=Array(x>2?x-2:0),w=2;w<x;w++)b[w-2]=arguments[w];h.apply(void 0,[M].concat(b))}}}r.exports=l}).call(n,i(2))},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(s){return Math.max.apply(Math,s)}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(3),c=l(s);function l(h){return h&&h.__esModule?h:{default:h}}n.default=function(h){var m=(0,c.default)(h),g=h.map(function(x){return Math.pow(x-m,2)}),M=(0,c.default)(g);return Math.sqrt(M)}},function(r,n,i){r.exports=i(12)},function(r,n,i){r.exports=i(13)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SparklinesText=n.SparklinesNormalBand=n.SparklinesReferenceLine=n.SparklinesSpots=n.SparklinesBars=n.SparklinesCurve=n.SparklinesLine=n.Sparklines=void 0;var s=function(){function P(D,S){for(var R=0;R<S.length;R++){var Q=S[R];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(D,Q.key,Q)}}return function(D,S,R){return S&&P(D.prototype,S),R&&P(D,R),D}}(),c=i(0),l=W(c),h=i(1),m=W(h),g=i(17),M=W(g),x=i(18),b=W(x),w=i(19),f=W(w),o=i(20),y=W(o),d=i(21),u=W(d),v=i(22),_=W(v),j=i(27),O=W(j),E=i(28),L=W(E);function W(P){return P&&P.__esModule?P:{default:P}}function U(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")}function Z(P,D){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:P}function ee(P,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);P.prototype=Object.create(D&&D.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(P,D):P.__proto__=D)}var ae=function(P){ee(D,P);function D(S){return U(this,D),Z(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,S))}return s(D,[{key:"render",value:function(){var R=this.props,Q=R.data,se=R.limit,k=R.width,N=R.height,B=R.svgWidth,F=R.svgHeight,q=R.preserveAspectRatio,z=R.margin,$=R.style,I=R.max,H=R.min;if(Q.length===0)return null;var X=(0,L.default)({data:Q,limit:se,width:k,height:N,margin:z,max:I,min:H}),G={style:$,viewBox:"0 0 "+k+" "+N,preserveAspectRatio:q};return B>0&&(G.width=B),F>0&&(G.height=F),m.default.createElement("svg",G,m.default.Children.map(this.props.children,function(ye){return m.default.cloneElement(ye,{data:Q,points:X,width:k,height:N,margin:z})}))}}]),D}(h.PureComponent);ae.propTypes={data:l.default.array,limit:l.default.number,width:l.default.number,height:l.default.number,svgWidth:l.default.number,svgHeight:l.default.number,preserveAspectRatio:l.default.string,margin:l.default.number,style:l.default.object,min:l.default.number,max:l.default.number,onMouseMove:l.default.func},ae.defaultProps={data:[],width:240,height:60,preserveAspectRatio:"none",margin:2},n.Sparklines=ae,n.SparklinesLine=b.default,n.SparklinesCurve=f.default,n.SparklinesBars=y.default,n.SparklinesSpots=u.default,n.SparklinesReferenceLine=_.default,n.SparklinesNormalBand=O.default,n.SparklinesText=M.default},function(r,n,i){(function(s){var c=i(4),l=i(5),h=i(8),m=i(6),g=i(15);r.exports=function(M,x){var b=typeof Symbol=="function"&&Symbol.iterator,w="@@iterator";function f(k){var N=k&&(b&&k[b]||k[w]);if(typeof N=="function")return N}var o="<<anonymous>>",y={array:_("array"),bool:_("boolean"),func:_("function"),number:_("number"),object:_("object"),string:_("string"),symbol:_("symbol"),any:j(),arrayOf:O,element:E(),instanceOf:L,node:ee(),objectOf:U,oneOf:W,oneOfType:Z,shape:ae};function d(k,N){return k===N?k!==0||1/k===1/N:k!==k&&N!==N}function u(k){this.message=k,this.stack=""}u.prototype=Error.prototype;function v(k){if(s.env.NODE_ENV!=="production")var N={},B=0;function F(z,$,I,H,X,G,ye){if(H=H||o,G=G||I,ye!==m){if(x)l(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if(s.env.NODE_ENV!=="production"&&typeof console<"u"){var ze=H+":"+I;!N[ze]&&B<3&&(h(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",G,H),N[ze]=!0,B++)}}return $[I]==null?z?$[I]===null?new u("The "+X+" `"+G+"` is marked as required "+("in `"+H+"`, but its value is `null`.")):new u("The "+X+" `"+G+"` is marked as required in "+("`"+H+"`, but its value is `undefined`.")):null:k($,I,H,X,G)}var q=F.bind(null,!1);return q.isRequired=F.bind(null,!0),q}function _(k){function N(B,F,q,z,$,I){var H=B[F],X=S(H);if(X!==k){var G=R(H);return new u("Invalid "+z+" `"+$+"` of type "+("`"+G+"` supplied to `"+q+"`, expected ")+("`"+k+"`."))}return null}return v(N)}function j(){return v(c.thatReturnsNull)}function O(k){function N(B,F,q,z,$){if(typeof k!="function")return new u("Property `"+$+"` of component `"+q+"` has invalid PropType notation inside arrayOf.");var I=B[F];if(!Array.isArray(I)){var H=S(I);return new u("Invalid "+z+" `"+$+"` of type "+("`"+H+"` supplied to `"+q+"`, expected an array."))}for(var X=0;X<I.length;X++){var G=k(I,X,q,z,$+"["+X+"]",m);if(G instanceof Error)return G}return null}return v(N)}function E(){function k(N,B,F,q,z){var $=N[B];if(!M($)){var I=S($);return new u("Invalid "+q+" `"+z+"` of type "+("`"+I+"` supplied to `"+F+"`, expected a single ReactElement."))}return null}return v(k)}function L(k){function N(B,F,q,z,$){if(!(B[F]instanceof k)){var I=k.name||o,H=se(B[F]);return new u("Invalid "+z+" `"+$+"` of type "+("`"+H+"` supplied to `"+q+"`, expected ")+("instance of `"+I+"`."))}return null}return v(N)}function W(k){if(!Array.isArray(k))return s.env.NODE_ENV!=="production"&&h(!1,"Invalid argument supplied to oneOf, expected an instance of array."),c.thatReturnsNull;function N(B,F,q,z,$){for(var I=B[F],H=0;H<k.length;H++)if(d(I,k[H]))return null;var X=JSON.stringify(k);return new u("Invalid "+z+" `"+$+"` of value `"+I+"` "+("supplied to `"+q+"`, expected one of "+X+"."))}return v(N)}function U(k){function N(B,F,q,z,$){if(typeof k!="function")return new u("Property `"+$+"` of component `"+q+"` has invalid PropType notation inside objectOf.");var I=B[F],H=S(I);if(H!=="object")return new u("Invalid "+z+" `"+$+"` of type "+("`"+H+"` supplied to `"+q+"`, expected an object."));for(var X in I)if(I.hasOwnProperty(X)){var G=k(I,X,q,z,$+"."+X,m);if(G instanceof Error)return G}return null}return v(N)}function Z(k){if(!Array.isArray(k))return s.env.NODE_ENV!=="production"&&h(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),c.thatReturnsNull;for(var N=0;N<k.length;N++){var B=k[N];if(typeof B!="function")return h(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",Q(B),N),c.thatReturnsNull}function F(q,z,$,I,H){for(var X=0;X<k.length;X++){var G=k[X];if(G(q,z,$,I,H,m)==null)return null}return new u("Invalid "+I+" `"+H+"` supplied to "+("`"+$+"`."))}return v(F)}function ee(){function k(N,B,F,q,z){return P(N[B])?null:new u("Invalid "+q+" `"+z+"` supplied to "+("`"+F+"`, expected a ReactNode."))}return v(k)}function ae(k){function N(B,F,q,z,$){var I=B[F],H=S(I);if(H!=="object")return new u("Invalid "+z+" `"+$+"` of type `"+H+"` "+("supplied to `"+q+"`, expected `object`."));for(var X in k){var G=k[X];if(G){var ye=G(I,X,q,z,$+"."+X,m);if(ye)return ye}}return null}return v(N)}function P(k){switch(typeof k){case"number":case"string":case"undefined":return!0;case"boolean":return!k;case"object":if(Array.isArray(k))return k.every(P);if(k===null||M(k))return!0;var N=f(k);if(N){var B=N.call(k),F;if(N!==k.entries){for(;!(F=B.next()).done;)if(!P(F.value))return!1}else for(;!(F=B.next()).done;){var q=F.value;if(q&&!P(q[1]))return!1}}else return!1;return!0;default:return!1}}function D(k,N){return k==="symbol"||N["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&N instanceof Symbol}function S(k){var N=typeof k;return Array.isArray(k)?"array":k instanceof RegExp?"object":D(N,k)?"symbol":N}function R(k){if(typeof k>"u"||k===null)return""+k;var N=S(k);if(N==="object"){if(k instanceof Date)return"date";if(k instanceof RegExp)return"regexp"}return N}function Q(k){var N=R(k);switch(N){case"array":case"object":return"an "+N;case"boolean":case"date":case"regexp":return"a "+N;default:return N}}function se(k){return!k.constructor||!k.constructor.name?o:k.constructor.name}return y.checkPropTypes=g,y.PropTypes=y,y}}).call(n,i(2))},function(r,n,i){(function(s){if(s.env.NODE_ENV!=="production")var c=i(5),l=i(8),h=i(6),m={};function g(M,x,b,w,f){if(s.env.NODE_ENV!=="production"){for(var o in M)if(M.hasOwnProperty(o)){var y;try{c(typeof M[o]=="function","%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",w||"React class",b,o),y=M[o](x,o,w,b,null,h)}catch(u){y=u}if(l(!y||y instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",w||"React class",b,o,typeof y),y instanceof Error&&!(y.message in m)){m[y.message]=!0;var d=f?f():"";l(!1,"Failed %s type: %s%s",b,y.message,d??"")}}}}r.exports=g}).call(n,i(2))},function(r,n,i){var s=i(4),c=i(5),l=i(6);r.exports=function(){function h(M,x,b,w,f,o){o!==l&&c(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}h.isRequired=h;function m(){return h}var g={array:h,bool:h,func:h,number:h,object:h,string:h,symbol:h,any:h,arrayOf:m,element:h,instanceOf:m,node:h,objectOf:m,oneOf:m,oneOfType:m,shape:m};return g.checkPropTypes=s,g.PropTypes=g,g}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function f(o,y){for(var d=0;d<y.length;d++){var u=y[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,u.key,u)}}return function(o,y,d){return y&&f(o.prototype,y),d&&f(o,d),o}}(),c=i(0),l=g(c),h=i(1),m=g(h);function g(f){return f&&f.__esModule?f:{default:f}}function M(f,o){if(!(f instanceof o))throw new TypeError("Cannot call a class as a function")}function x(f,o){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:f}function b(f,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);f.prototype=Object.create(o&&o.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(f,o):f.__proto__=o)}var w=function(f){b(o,f);function o(){return M(this,o),x(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return s(o,[{key:"render",value:function(){var d=this.props,u=d.point,v=d.text,_=d.fontSize,j=d.fontFamily,O=u.x,E=u.y;return m.default.createElement("g",null,m.default.createElement("text",{x:O,y:E,fontFamily:j||"Verdana",fontSize:_||10},v))}}]),o}(m.default.Component);w.propTypes={text:l.default.string,point:l.default.object,fontSize:l.default.number,fontFamily:l.default.string},w.defaultProps={text:"",point:{x:0,y:0}},n.default=w},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function f(o,y){for(var d=0;d<y.length;d++){var u=y[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,u.key,u)}}return function(o,y,d){return y&&f(o.prototype,y),d&&f(o,d),o}}(),c=i(0),l=g(c),h=i(1),m=g(h);function g(f){return f&&f.__esModule?f:{default:f}}function M(f,o){if(!(f instanceof o))throw new TypeError("Cannot call a class as a function")}function x(f,o){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:f}function b(f,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);f.prototype=Object.create(o&&o.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(f,o):f.__proto__=o)}var w=function(f){b(o,f);function o(){return M(this,o),x(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return s(o,[{key:"render",value:function(){var d=this.props,u=d.data,v=d.points;d.width;var _=d.height,j=d.margin,O=d.color,E=d.style,L=d.onMouseMove,W=v.map(function(D){return[D.x,D.y]}).reduce(function(D,S){return D.concat(S)}),U=[v[v.length-1].x,_-j,j,_-j,j,v[0].y],Z=W.concat(U),ee={stroke:O||E.stroke||"slategray",strokeWidth:E.strokeWidth||"1",strokeLinejoin:E.strokeLinejoin||"round",strokeLinecap:E.strokeLinecap||"round",fill:"none"},ae={stroke:E.stroke||"none",strokeWidth:"0",fillOpacity:E.fillOpacity||".1",fill:E.fill||O||"slategray",pointerEvents:"auto"},P=v.map(function(D,S){return m.default.createElement("circle",{key:S,cx:D.x,cy:D.y,r:2,style:ae,onMouseEnter:function(Q){return L("enter",u[S],D)},onClick:function(Q){return L("click",u[S],D)}})});return m.default.createElement("g",null,P,m.default.createElement("polyline",{points:Z.join(" "),style:ae}),m.default.createElement("polyline",{points:W.join(" "),style:ee}))}}]),o}(m.default.Component);w.propTypes={color:l.default.string,style:l.default.object},w.defaultProps={style:{},onMouseMove:function(){}},n.default=w},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function f(o,y){for(var d=0;d<y.length;d++){var u=y[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,u.key,u)}}return function(o,y,d){return y&&f(o.prototype,y),d&&f(o,d),o}}(),c=i(0),l=g(c),h=i(1),m=g(h);function g(f){return f&&f.__esModule?f:{default:f}}function M(f,o){if(!(f instanceof o))throw new TypeError("Cannot call a class as a function")}function x(f,o){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:f}function b(f,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);f.prototype=Object.create(o&&o.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(f,o):f.__proto__=o)}var w=function(f){b(o,f);function o(){return M(this,o),x(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return s(o,[{key:"render",value:function(){var d=this.props,u=d.points;d.width;var v=d.height,_=d.margin,j=d.color,O=d.style,E=d.divisor,L=E===void 0?.25:E,W=void 0,U=function(R){var Q=void 0;if(!W)Q=[R.x,R.y];else{var se=(R.x-W.x)*L;Q=["C",W.x+se,W.y,R.x-se,R.y,R.x,R.y]}return W=R,Q},Z=u.map(function(S){return U(S)}).reduce(function(S,R){return S.concat(R)}),ee=["L"+u[u.length-1].x,v-_,_,v-_,_,u[0].y],ae=Z.concat(ee),P={stroke:j||O.stroke||"slategray",strokeWidth:O.strokeWidth||"1",strokeLinejoin:O.strokeLinejoin||"round",strokeLinecap:O.strokeLinecap||"round",fill:"none"},D={stroke:O.stroke||"none",strokeWidth:"0",fillOpacity:O.fillOpacity||".1",fill:O.fill||j||"slategray"};return m.default.createElement("g",null,m.default.createElement("path",{d:"M"+ae.join(" "),style:D}),m.default.createElement("path",{d:"M"+Z.join(" "),style:P}))}}]),o}(m.default.Component);w.propTypes={color:l.default.string,style:l.default.object},w.defaultProps={style:{}},n.default=w},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function f(o,y){for(var d=0;d<y.length;d++){var u=y[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,u.key,u)}}return function(o,y,d){return y&&f(o.prototype,y),d&&f(o,d),o}}(),c=i(0),l=g(c),h=i(1),m=g(h);function g(f){return f&&f.__esModule?f:{default:f}}function M(f,o){if(!(f instanceof o))throw new TypeError("Cannot call a class as a function")}function x(f,o){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:f}function b(f,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);f.prototype=Object.create(o&&o.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(f,o):f.__proto__=o)}var w=function(f){b(o,f);function o(){return M(this,o),x(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return s(o,[{key:"render",value:function(){var d=this,u=this.props,v=u.points,_=u.height,j=u.style,O=u.barWidth,E=u.margin,L=u.onMouseMove,W=1*(j&&j.strokeWidth||0),U=E?2*E:0,Z=O||(v&&v.length>=2?Math.max(0,v[1].x-v[0].x-W-U):0);return m.default.createElement("g",{transform:"scale(1,-1)"},v.map(function(ee,ae){return m.default.createElement("rect",{key:ae,x:ee.x-(Z+W)/2,y:-_,width:Z,height:Math.max(0,_-ee.y),style:j,onMouseMove:L&&L.bind(d,ee)})}))}}]),o}(m.default.Component);w.propTypes={points:l.default.arrayOf(l.default.object),height:l.default.number,style:l.default.object,barWidth:l.default.number,margin:l.default.number,onMouseMove:l.default.func},w.defaultProps={style:{fill:"slategray"}},n.default=w},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function f(o,y){for(var d=0;d<y.length;d++){var u=y[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,u.key,u)}}return function(o,y,d){return y&&f(o.prototype,y),d&&f(o,d),o}}(),c=i(0),l=g(c),h=i(1),m=g(h);function g(f){return f&&f.__esModule?f:{default:f}}function M(f,o){if(!(f instanceof o))throw new TypeError("Cannot call a class as a function")}function x(f,o){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:f}function b(f,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);f.prototype=Object.create(o&&o.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(f,o):f.__proto__=o)}var w=function(f){b(o,f);function o(){return M(this,o),x(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return s(o,[{key:"lastDirection",value:function(d){return Math.sign=Math.sign||function(u){return u>0?1:-1},d.length<2?0:Math.sign(d[d.length-2].y-d[d.length-1].y)}},{key:"render",value:function(){var d=this.props,u=d.points;d.width,d.height;var v=d.size,_=d.style,j=d.spotColors,O=m.default.createElement("circle",{cx:u[0].x,cy:u[0].y,r:v,style:_}),E=m.default.createElement("circle",{cx:u[u.length-1].x,cy:u[u.length-1].y,r:v,style:_||{fill:j[this.lastDirection(u)]}});return m.default.createElement("g",null,_&&O,E)}}]),o}(m.default.Component);w.propTypes={size:l.default.number,style:l.default.object,spotColors:l.default.object},w.defaultProps={size:2,spotColors:{"-1":"red",0:"black",1:"green"}},n.default=w},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function d(u,v){for(var _=0;_<v.length;_++){var j=v[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(u,j.key,j)}}return function(u,v,_){return v&&d(u.prototype,v),_&&d(u,_),u}}(),c=i(0),l=b(c),h=i(1),m=b(h),g=i(23),M=x(g);function x(d){if(d&&d.__esModule)return d;var u={};if(d!=null)for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&(u[v]=d[v]);return u.default=d,u}function b(d){return d&&d.__esModule?d:{default:d}}function w(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function f(d,u){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:d}function o(d,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);d.prototype=Object.create(u&&u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(d,u):d.__proto__=u)}var y=function(d){o(u,d);function u(){return w(this,u),f(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return s(u,[{key:"render",value:function(){var _=this.props,j=_.points,O=_.margin,E=_.type,L=_.style,W=_.value,U=j.map(function(ee){return ee.y}),Z=E=="custom"?W:M[E](U);return m.default.createElement("line",{x1:j[0].x,y1:Z+O,x2:j[j.length-1].x,y2:Z+O,style:L})}}]),u}(m.default.Component);y.propTypes={type:l.default.oneOf(["max","min","mean","avg","median","custom"]),value:l.default.number,style:l.default.object},y.defaultProps={type:"mean",style:{stroke:"red",strokeOpacity:.75,strokeDasharray:"2, 2"}},n.default=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.variance=n.stdev=n.median=n.midRange=n.avg=n.mean=n.max=n.min=void 0;var s=i(7),c=y(s),l=i(3),h=y(l),m=i(24),g=y(m),M=i(25),x=y(M),b=i(10),w=y(b),f=i(26),o=y(f);function y(d){return d&&d.__esModule?d:{default:d}}n.min=c.default,n.max=c.default,n.mean=h.default,n.avg=h.default,n.midRange=g.default,n.median=x.default,n.stdev=w.default,n.variance=o.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(7),c=m(s),l=i(9),h=m(l);function m(g){return g&&g.__esModule?g:{default:g}}n.default=function(g){return(0,h.default)(g)-(0,c.default)(g)/2}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(s){return s.sort(function(c,l){return c-l})[Math.floor(s.length/2)]}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(3),c=l(s);function l(h){return h&&h.__esModule?h:{default:h}}n.default=function(h){var m=(0,c.default)(h),g=h.map(function(M){return Math.pow(M-m,2)});return(0,c.default)(g)}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function u(v,_){for(var j=0;j<_.length;j++){var O=_[j];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(v,O.key,O)}}return function(v,_,j){return _&&u(v.prototype,_),j&&u(v,j),v}}(),c=i(0),l=w(c),h=i(1),m=w(h),g=i(3),M=w(g),x=i(10),b=w(x);function w(u){return u&&u.__esModule?u:{default:u}}function f(u,v){if(!(u instanceof v))throw new TypeError("Cannot call a class as a function")}function o(u,v){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:u}function y(u,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);u.prototype=Object.create(v&&v.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(u,v):u.__proto__=v)}var d=function(u){y(v,u);function v(){return f(this,v),o(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"render",value:function(){var j=this.props,O=j.points,E=j.margin,L=j.style,W=O.map(function(ee){return ee.y}),U=(0,M.default)(W),Z=(0,b.default)(W);return m.default.createElement("rect",{x:O[0].x,y:U-Z+E,width:O[O.length-1].x-O[0].x,height:b.default*2,style:L})}}]),v}(m.default.Component);d.propTypes={style:l.default.object},d.defaultProps={style:{fill:"red",fillOpacity:.1}},n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(7),c=m(s),l=i(9),h=m(l);function m(g){return g&&g.__esModule?g:{default:g}}n.default=function(g){var M=g.data,x=g.limit,b=g.width,w=b===void 0?1:b,f=g.height,o=f===void 0?1:f,y=g.margin,d=y===void 0?0:y,u=g.max,v=u===void 0?(0,h.default)(M):u,_=g.min,j=_===void 0?(0,c.default)(M):_,O=M.length;x&&x<O&&(M=M.slice(O-x));var E=(o-d*2)/(v-j||2),L=(w-d*2)/((x||O)-(O>1?1:0));return M.map(function(W,U){return{x:U*L+d,y:(v===j?1:v-W)*E+d}})}}])})})(ct);var Ue=ct.exports;function Vt({title:a,value:t,spark:e=[]}){return p.jsx("div",{className:"glass-card p-4 neon-ring",children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-gray-400",children:a}),p.jsx("div",{className:"text-xl font-semibold mt-1",children:typeof t=="number"?`$${t.toLocaleString()}`:t})]}),p.jsx("div",{className:"w-20",children:p.jsx(Ue.Sparklines,{data:Array.isArray(e)&&e.length?e:[0,0,1,2,1,3],children:p.jsx(Ue.SparklinesLine,{color:"#7c3aed",style:{strokeWidth:2}})})})]})})}const Ut=ne.memo(function({kpis:t={}}){const e=[{title:"Total P/L",value:t.total_pl??0,spark:(t.equitySeries||[]).slice(-20)},{title:"Win Rate",value:t.win_rate?`${(t.win_rate*100).toFixed(1)}%`:"0%",spark:t.winSeries||[]},{title:"Max Drawdown",value:typeof t.max_drawdown=="number"?`${(t.max_drawdown*100).toFixed(2)}%`:t.max_drawdown??"0%",spark:t.drawdownSeries||[]},{title:"Total Trades",value:t.total_trades??0,spark:t.tradeSeries||[]}];return p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map((r,n)=>p.jsx(Vt,{...r},n))})});/*!
 * @license
 * chartjs-chart-financial
 * http://chartjs.org/
 * Version: 0.2.1
 *
 * Copyright 2024 Chart.js Contributors
 * Released under the MIT license
 * https://github.com/chartjs/chartjs-chart-financial/blob/master/LICENSE.md
 */function Zt(a,t){const{x:e,y:r,base:n,width:i,height:s}=a.getProps(["x","low","high","width","height"],t);let c,l,h,m,g;return a.horizontal?(g=s/2,c=Math.min(e,n),l=Math.max(e,n),h=r-g,m=r+g):(g=i/2,c=e-g,l=e+g,h=Math.min(r,n),m=Math.max(r,n)),{left:c,top:h,right:l,bottom:m}}function Se(a,t,e,r){const n=t===null,i=e===null,s=!a||n&&i?!1:Zt(a,r);return s&&(n||t>=s.left&&t<=s.right)&&(i||e>=s.top&&e<=s.bottom)}class Te extends ot{height(){return this.base-this.y}inRange(t,e,r){return Se(this,t,e,r)}inXRange(t,e){return Se(this,t,null,e)}inYRange(t,e){return Se(this,null,t,e)}getRange(t){return t==="x"?this.width/2:this.height/2}getCenterPoint(t){const{x:e,low:r,high:n}=this.getProps(["x","low","high"],t);return{x:e,y:(n+r)/2}}tooltipPosition(t){const{x:e,open:r,close:n}=this.getProps(["x","open","close"],t);return{x:e,y:(r+n)/2}}}T(Te,"defaults",{backgroundColors:{up:"rgba(75, 192, 192, 0.5)",down:"rgba(255, 99, 132, 0.5)",unchanged:"rgba(201, 203, 207, 0.5)"},borderColors:{up:"rgb(75, 192, 192)",down:"rgb(255, 99, 132)",unchanged:"rgb(201, 203, 207)"}});const ge=st.defaults;class Ie extends Te{draw(t){const e=this,{x:r,open:n,high:i,low:s,close:c}=e,l=ie(e.armLengthRatio,ge.elements.ohlc.armLengthRatio);let h=ie(e.armLength,ge.elements.ohlc.armLength);h===null&&(h=e.width*l*.5),c<n?t.strokeStyle=ie(e.options.borderColors?e.options.borderColors.up:void 0,ge.elements.ohlc.borderColors.up):c>n?t.strokeStyle=ie(e.options.borderColors?e.options.borderColors.down:void 0,ge.elements.ohlc.borderColors.down):t.strokeStyle=ie(e.options.borderColors?e.options.borderColors.unchanged:void 0,ge.elements.ohlc.borderColors.unchanged),t.lineWidth=ie(e.lineWidth,ge.elements.ohlc.lineWidth),t.beginPath(),t.moveTo(r,i),t.lineTo(r,s),t.moveTo(r-h,n),t.lineTo(r,n),t.moveTo(r+h,c),t.lineTo(r,c),t.stroke()}}T(Ie,"id","ohlc"),T(Ie,"defaults",{...Te.defaults,lineWidth:2,armLength:null,armLengthRatio:.8});class Oe extends it{getLabelAndValue(t){const e=this,r=e.getParsed(t),n=e._cachedMeta.iScale.axis,{o:i,h:s,l:c,c:l}=r,h=`O: ${i}  H: ${s}  L: ${c}  C: ${l}`;return{label:`${e._cachedMeta.iScale.getLabelForValue(r[n])}`,value:h}}getUserBounds(t){const{min:e,max:r,minDefined:n,maxDefined:i}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?r:Number.POSITIVE_INFINITY}}getMinMax(t){const e=this._cachedMeta,r=e._parsed,n=e.iScale.axis,i=this._getOtherScale(t),{min:s,max:c}=this.getUserBounds(i);if(r.length<2)return{min:0,max:1};if(t===e.iScale)return{min:r[0][n],max:r[r.length-1][n]};const l=r.filter(({x:g})=>g>=s&&g<c);let h=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY;for(let g=0;g<l.length;g++){const M=l[g];h=Math.min(h,M.l),m=Math.max(m,M.h)}return{min:h,max:m}}calculateElementProperties(t,e,r,n){const i=this,s=i._cachedMeta.vScale,c=s.getBasePixel(),l=i._calculateBarIndexPixels(t,e,n),h=i.chart.data.datasets[i.index].data[t],m=s.getPixelForValue(h.o),g=s.getPixelForValue(h.h),M=s.getPixelForValue(h.l),x=s.getPixelForValue(h.c);return{base:r?c:M,x:l.center,y:(M+g)/2,width:l.size,open:m,high:g,low:M,close:x}}draw(){const t=this,e=t.chart,r=t._cachedMeta.data;St(e.ctx,e.chartArea);for(let n=0;n<r.length;++n)r[n].draw(t._ctx);Wt(e.ctx)}}T(Oe,"overrides",{label:"",parsing:!1,hover:{mode:"label"},animations:{numbers:{type:"number",properties:["x","y","base","width","open","high","low","close"]}},scales:{x:{type:"timeseries",offset:!0,ticks:{major:{enabled:!0},source:"data",maxRotation:0,autoSkip:!0,autoSkipPadding:75,sampleSize:100}},y:{type:"linear"}},plugins:{tooltip:{intersect:!1,mode:"index",callbacks:{label(t){const e=t.parsed;if(!Yt(e.y))return de.plugins.tooltip.callbacks.label(t);const{o:r,h:n,l:i,c:s}=e;return`O: ${r}  H: ${n}  L: ${i}  C: ${s}`}}}}});class Ze extends Oe{updateElements(t,e,r,n){const i=n==="reset",s=this._getRuler(),{sharedOptions:c,includeOptions:l}=this._getSharedOptions(e,n);for(let h=e;h<e+r;h++){const m=c||this.resolveDataElementOptions(h,n),g=this.calculateElementProperties(h,s,i,m);l&&(g.options=m),this.updateElement(t[h],h,g,n)}}}T(Ze,"id","ohlc"),T(Ze,"defaults",{...Oe.defaults,dataElementType:Ie.id,datasets:{barPercentage:1,categoryPercentage:1}});class Ne extends Te{draw(t){const e=this,{x:r,open:n,high:i,low:s,close:c}=e;let l=e.options.borderColors;typeof l=="string"&&(l={up:l,down:l,unchanged:l});let h;c<n?(h=ie(l?l.up:void 0,de.elements.candlestick.borderColors.up),t.fillStyle=ie(e.options.backgroundColors?e.options.backgroundColors.up:void 0,de.elements.candlestick.backgroundColors.up)):c>n?(h=ie(l?l.down:void 0,de.elements.candlestick.borderColors.down),t.fillStyle=ie(e.options.backgroundColors?e.options.backgroundColors.down:void 0,de.elements.candlestick.backgroundColors.down)):(h=ie(l?l.unchanged:void 0,de.elements.candlestick.borderColors.unchanged),t.fillStyle=ie(e.backgroundColors?e.backgroundColors.unchanged:void 0,de.elements.candlestick.backgroundColors.unchanged)),t.lineWidth=ie(e.options.borderWidth,de.elements.candlestick.borderWidth),t.strokeStyle=h,t.beginPath(),t.moveTo(r,i),t.lineTo(r,Math.min(n,c)),t.moveTo(r,s),t.lineTo(r,Math.max(n,c)),t.stroke(),t.fillRect(r-e.width/2,c,e.width,n-c),t.strokeRect(r-e.width/2,c,e.width,n-c),t.closePath()}}T(Ne,"id","candlestick"),T(Ne,"defaults",{...Te.defaults,borderWidth:1});class Ee extends Oe{updateElements(t,e,r,n){const i=n==="reset",s=this._getRuler(),{sharedOptions:c,includeOptions:l}=this._getSharedOptions(e,n);for(let h=e;h<e+r;h++){const m=c||this.resolveDataElementOptions(h,n),g=this.calculateElementProperties(h,s,i,m);l&&(g.options=m),this.updateElement(t[h],h,g,n)}}}T(Ee,"id","candlestick"),T(Ee,"defaults",{...Oe.defaults,dataElementType:Ne.id}),T(Ee,"defaultRoutes",it.defaultRoutes);const lt=6048e5,Jt=864e5,ke=6e4,Pe=36e5,Kt=1e3,Je=Symbol.for("constructDateFrom");function J(a,t){return typeof a=="function"?a(t):a&&typeof a=="object"&&Je in a?a[Je](t):a instanceof Date?new a.constructor(t):new Date(t)}function Y(a,t){return J(t||a,a)}function Ye(a,t,e){const r=Y(a,e==null?void 0:e.in);return isNaN(t)?J((e==null?void 0:e.in)||a,NaN):(t&&r.setDate(r.getDate()+t),r)}function He(a,t,e){const r=Y(a,e==null?void 0:e.in);if(isNaN(t))return J(a,NaN);if(!t)return r;const n=r.getDate(),i=J(a,r.getTime());i.setMonth(r.getMonth()+t+1,0);const s=i.getDate();return n>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}function Ae(a,t,e){return J(a,+Y(a)+t)}function er(a,t,e){return Ae(a,t*Pe)}let tr={};function he(){return tr}function ce(a,t){var c,l,h,m;const e=he(),r=(t==null?void 0:t.weekStartsOn)??((l=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)??e.weekStartsOn??((m=(h=e.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,n=Y(a,t==null?void 0:t.in),i=n.getDay(),s=(i<r?7:0)+i-r;return n.setDate(n.getDate()-s),n.setHours(0,0,0,0),n}function ve(a,t){return ce(a,{...t,weekStartsOn:1})}function dt(a,t){const e=Y(a,t==null?void 0:t.in),r=e.getFullYear(),n=J(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=ve(n),s=J(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const c=ve(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=c.getTime()?r:r-1}function je(a){const t=Y(a),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+a-+e}function me(a,...t){const e=J.bind(null,t.find(r=>typeof r=="object"));return t.map(e)}function Ce(a,t){const e=Y(a,t==null?void 0:t.in);return e.setHours(0,0,0,0),e}function ft(a,t,e){const[r,n]=me(e==null?void 0:e.in,a,t),i=Ce(r),s=Ce(n),c=+i-je(i),l=+s-je(s);return Math.round((c-l)/Jt)}function rr(a,t){const e=dt(a,t),r=J(a,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),ve(r)}function nr(a,t,e){const r=Y(a,e==null?void 0:e.in);return r.setTime(r.getTime()+t*ke),r}function ar(a,t,e){return He(a,t*3,e)}function ir(a,t,e){return Ae(a,t*1e3)}function sr(a,t,e){return Ye(a,t*7,e)}function or(a,t,e){return He(a,t*12,e)}function Me(a,t){const e=+Y(a)-+Y(t);return e<0?-1:e>0?1:e}function ur(a){return a instanceof Date||typeof a=="object"&&Object.prototype.toString.call(a)==="[object Date]"}function ht(a){return!(!ur(a)&&typeof a!="number"||isNaN(+Y(a)))}function cr(a,t,e){const[r,n]=me(e==null?void 0:e.in,a,t),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function lr(a,t,e){const[r,n]=me(e==null?void 0:e.in,a,t);return r.getFullYear()-n.getFullYear()}function mt(a,t,e){const[r,n]=me(e==null?void 0:e.in,a,t),i=Ke(r,n),s=Math.abs(ft(r,n));r.setDate(r.getDate()-i*s);const c=+(Ke(r,n)===-i),l=i*(s-c);return l===0?0:l}function Ke(a,t){const e=a.getFullYear()-t.getFullYear()||a.getMonth()-t.getMonth()||a.getDate()-t.getDate()||a.getHours()-t.getHours()||a.getMinutes()-t.getMinutes()||a.getSeconds()-t.getSeconds()||a.getMilliseconds()-t.getMilliseconds();return e<0?-1:e>0?1:e}function De(a){return t=>{const r=(a?Math[a]:Math.trunc)(t);return r===0?0:r}}function dr(a,t,e){const[r,n]=me(e==null?void 0:e.in,a,t),i=(+r-+n)/Pe;return De(e==null?void 0:e.roundingMethod)(i)}function Be(a,t){return+Y(a)-+Y(t)}function fr(a,t,e){const r=Be(a,t)/ke;return De(e==null?void 0:e.roundingMethod)(r)}function yt(a,t){const e=Y(a,t==null?void 0:t.in);return e.setHours(23,59,59,999),e}function gt(a,t){const e=Y(a,t==null?void 0:t.in),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function hr(a,t){const e=Y(a,t==null?void 0:t.in);return+yt(e,t)==+gt(e,t)}function wt(a,t,e){const[r,n,i]=me(e==null?void 0:e.in,a,a,t),s=Me(n,i),c=Math.abs(cr(n,i));if(c<1)return 0;n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*c);let l=Me(n,i)===-s;hr(r)&&c===1&&Me(r,i)===1&&(l=!1);const h=s*(c-+l);return h===0?0:h}function mr(a,t,e){const r=wt(a,t,e)/3;return De(e==null?void 0:e.roundingMethod)(r)}function yr(a,t,e){const r=Be(a,t)/1e3;return De(e==null?void 0:e.roundingMethod)(r)}function gr(a,t,e){const r=mt(a,t,e)/7;return De(e==null?void 0:e.roundingMethod)(r)}function wr(a,t,e){const[r,n]=me(e==null?void 0:e.in,a,t),i=Me(r,n),s=Math.abs(lr(r,n));r.setFullYear(1584),n.setFullYear(1584);const c=Me(r,n)===-i,l=i*(s-+c);return l===0?0:l}function vr(a,t){const e=Y(a,t==null?void 0:t.in),r=e.getMonth(),n=r-r%3;return e.setMonth(n,1),e.setHours(0,0,0,0),e}function br(a,t){const e=Y(a,t==null?void 0:t.in);return e.setDate(1),e.setHours(0,0,0,0),e}function pr(a,t){const e=Y(a,t==null?void 0:t.in),r=e.getFullYear();return e.setFullYear(r+1,0,0),e.setHours(23,59,59,999),e}function vt(a,t){const e=Y(a,t==null?void 0:t.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}function xr(a,t){const e=Y(a,t==null?void 0:t.in);return e.setMinutes(59,59,999),e}function Mr(a,t){var c,l;const e=he(),r=e.weekStartsOn??((l=(c=e.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)??0,n=Y(a,t==null?void 0:t.in),i=n.getDay(),s=(i<r?-7:0)+6-(i-r);return n.setDate(n.getDate()+s),n.setHours(23,59,59,999),n}function Tr(a,t){const e=Y(a,t==null?void 0:t.in);return e.setSeconds(59,999),e}function Or(a,t){const e=Y(a,t==null?void 0:t.in),r=e.getMonth(),n=r-r%3+3;return e.setMonth(n,0),e.setHours(23,59,59,999),e}function kr(a,t){const e=Y(a,t==null?void 0:t.in);return e.setMilliseconds(999),e}const Pr={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Dr=(a,t,e)=>{let r;const n=Pr[a];return typeof n=="string"?r=n:t===1?r=n.one:r=n.other.replace("{{count}}",t.toString()),e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"in "+r:r+" ago":r};function We(a){return(t={})=>{const e=t.width?String(t.width):a.defaultWidth;return a.formats[e]||a.formats[a.defaultWidth]}}const _r={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Er={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Nr={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jr={date:We({formats:_r,defaultWidth:"full"}),time:We({formats:Er,defaultWidth:"full"}),dateTime:We({formats:Nr,defaultWidth:"full"})},Rr={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Yr=(a,t,e,r)=>Rr[a];function be(a){return(t,e)=>{const r=e!=null&&e.context?String(e.context):"standalone";let n;if(r==="formatting"&&a.formattingValues){const s=a.defaultFormattingWidth||a.defaultWidth,c=e!=null&&e.width?String(e.width):s;n=a.formattingValues[c]||a.formattingValues[s]}else{const s=a.defaultWidth,c=e!=null&&e.width?String(e.width):a.defaultWidth;n=a.values[c]||a.values[s]}const i=a.argumentCallback?a.argumentCallback(t):t;return n[i]}}const Sr={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Wr={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Lr={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ir={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Cr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Fr=(a,t)=>{const e=Number(a),r=e%100;if(r>20||r<10)switch(r%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},Hr={ordinalNumber:Fr,era:be({values:Sr,defaultWidth:"wide"}),quarter:be({values:Wr,defaultWidth:"wide",argumentCallback:a=>a-1}),month:be({values:Lr,defaultWidth:"wide"}),day:be({values:Ir,defaultWidth:"wide"}),dayPeriod:be({values:Cr,defaultWidth:"wide",formattingValues:qr,defaultFormattingWidth:"wide"})};function pe(a){return(t,e={})=>{const r=e.width,n=r&&a.matchPatterns[r]||a.matchPatterns[a.defaultMatchWidth],i=t.match(n);if(!i)return null;const s=i[0],c=r&&a.parsePatterns[r]||a.parsePatterns[a.defaultParseWidth],l=Array.isArray(c)?Br(c,g=>g.test(s)):Ar(c,g=>g.test(s));let h;h=a.valueCallback?a.valueCallback(l):l,h=e.valueCallback?e.valueCallback(h):h;const m=t.slice(s.length);return{value:h,rest:m}}}function Ar(a,t){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e)&&t(a[e]))return e}function Br(a,t){for(let e=0;e<a.length;e++)if(t(a[e]))return e}function $r(a){return(t,e={})=>{const r=t.match(a.matchPattern);if(!r)return null;const n=r[0],i=t.match(a.parsePattern);if(!i)return null;let s=a.valueCallback?a.valueCallback(i[0]):i[0];s=e.valueCallback?e.valueCallback(s):s;const c=t.slice(n.length);return{value:s,rest:c}}}const Qr=/^(\d+)(th|st|nd|rd)?/i,Xr=/\d+/i,zr={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Gr={any:[/^b/i,/^(a|c)/i]},Vr={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ur={any:[/1/i,/2/i,/3/i,/4/i]},Zr={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Jr={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Kr={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},en={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tn={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rn={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nn={ordinalNumber:$r({matchPattern:Qr,parsePattern:Xr,valueCallback:a=>parseInt(a,10)}),era:pe({matchPatterns:zr,defaultMatchWidth:"wide",parsePatterns:Gr,defaultParseWidth:"any"}),quarter:pe({matchPatterns:Vr,defaultMatchWidth:"wide",parsePatterns:Ur,defaultParseWidth:"any",valueCallback:a=>a+1}),month:pe({matchPatterns:Zr,defaultMatchWidth:"wide",parsePatterns:Jr,defaultParseWidth:"any"}),day:pe({matchPatterns:Kr,defaultMatchWidth:"wide",parsePatterns:en,defaultParseWidth:"any"}),dayPeriod:pe({matchPatterns:tn,defaultMatchWidth:"any",parsePatterns:rn,defaultParseWidth:"any"})},bt={code:"en-US",formatDistance:Dr,formatLong:jr,formatRelative:Yr,localize:Hr,match:nn,options:{weekStartsOn:0,firstWeekContainsDate:1}};function an(a,t){const e=Y(a,t==null?void 0:t.in);return ft(e,vt(e))+1}function pt(a,t){const e=Y(a,t==null?void 0:t.in),r=+ve(e)-+rr(e);return Math.round(r/lt)+1}function $e(a,t){var m,g,M,x;const e=Y(a,t==null?void 0:t.in),r=e.getFullYear(),n=he(),i=(t==null?void 0:t.firstWeekContainsDate)??((g=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??n.firstWeekContainsDate??((x=(M=n.locale)==null?void 0:M.options)==null?void 0:x.firstWeekContainsDate)??1,s=J((t==null?void 0:t.in)||a,0);s.setFullYear(r+1,0,i),s.setHours(0,0,0,0);const c=ce(s,t),l=J((t==null?void 0:t.in)||a,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const h=ce(l,t);return+e>=+c?r+1:+e>=+h?r:r-1}function sn(a,t){var c,l,h,m;const e=he(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:l.firstWeekContainsDate)??e.firstWeekContainsDate??((m=(h=e.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,n=$e(a,t),i=J((t==null?void 0:t.in)||a,0);return i.setFullYear(n,0,r),i.setHours(0,0,0,0),ce(i,t)}function xt(a,t){const e=Y(a,t==null?void 0:t.in),r=+ce(e,t)-+sn(e,t);return Math.round(r/lt)+1}function A(a,t){const e=a<0?"-":"",r=Math.abs(a).toString().padStart(t,"0");return e+r}const le={y(a,t){const e=a.getFullYear(),r=e>0?e:1-e;return A(t==="yy"?r%100:r,t.length)},M(a,t){const e=a.getMonth();return t==="M"?String(e+1):A(e+1,2)},d(a,t){return A(a.getDate(),t.length)},a(a,t){const e=a.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(a,t){return A(a.getHours()%12||12,t.length)},H(a,t){return A(a.getHours(),t.length)},m(a,t){return A(a.getMinutes(),t.length)},s(a,t){return A(a.getSeconds(),t.length)},S(a,t){const e=t.length,r=a.getMilliseconds(),n=Math.trunc(r*Math.pow(10,e-3));return A(n,t.length)}},we={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},et={G:function(a,t,e){const r=a.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(r,{width:"abbreviated"});case"GGGGG":return e.era(r,{width:"narrow"});case"GGGG":default:return e.era(r,{width:"wide"})}},y:function(a,t,e){if(t==="yo"){const r=a.getFullYear(),n=r>0?r:1-r;return e.ordinalNumber(n,{unit:"year"})}return le.y(a,t)},Y:function(a,t,e,r){const n=$e(a,r),i=n>0?n:1-n;if(t==="YY"){const s=i%100;return A(s,2)}return t==="Yo"?e.ordinalNumber(i,{unit:"year"}):A(i,t.length)},R:function(a,t){const e=dt(a);return A(e,t.length)},u:function(a,t){const e=a.getFullYear();return A(e,t.length)},Q:function(a,t,e){const r=Math.ceil((a.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return A(r,2);case"Qo":return e.ordinalNumber(r,{unit:"quarter"});case"QQQ":return e.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(r,{width:"wide",context:"formatting"})}},q:function(a,t,e){const r=Math.ceil((a.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return A(r,2);case"qo":return e.ordinalNumber(r,{unit:"quarter"});case"qqq":return e.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(r,{width:"wide",context:"standalone"})}},M:function(a,t,e){const r=a.getMonth();switch(t){case"M":case"MM":return le.M(a,t);case"Mo":return e.ordinalNumber(r+1,{unit:"month"});case"MMM":return e.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(r,{width:"wide",context:"formatting"})}},L:function(a,t,e){const r=a.getMonth();switch(t){case"L":return String(r+1);case"LL":return A(r+1,2);case"Lo":return e.ordinalNumber(r+1,{unit:"month"});case"LLL":return e.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(r,{width:"wide",context:"standalone"})}},w:function(a,t,e,r){const n=xt(a,r);return t==="wo"?e.ordinalNumber(n,{unit:"week"}):A(n,t.length)},I:function(a,t,e){const r=pt(a);return t==="Io"?e.ordinalNumber(r,{unit:"week"}):A(r,t.length)},d:function(a,t,e){return t==="do"?e.ordinalNumber(a.getDate(),{unit:"date"}):le.d(a,t)},D:function(a,t,e){const r=an(a);return t==="Do"?e.ordinalNumber(r,{unit:"dayOfYear"}):A(r,t.length)},E:function(a,t,e){const r=a.getDay();switch(t){case"E":case"EE":case"EEE":return e.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(r,{width:"short",context:"formatting"});case"EEEE":default:return e.day(r,{width:"wide",context:"formatting"})}},e:function(a,t,e,r){const n=a.getDay(),i=(n-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return A(i,2);case"eo":return e.ordinalNumber(i,{unit:"day"});case"eee":return e.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(n,{width:"short",context:"formatting"});case"eeee":default:return e.day(n,{width:"wide",context:"formatting"})}},c:function(a,t,e,r){const n=a.getDay(),i=(n-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return A(i,t.length);case"co":return e.ordinalNumber(i,{unit:"day"});case"ccc":return e.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(n,{width:"narrow",context:"standalone"});case"cccccc":return e.day(n,{width:"short",context:"standalone"});case"cccc":default:return e.day(n,{width:"wide",context:"standalone"})}},i:function(a,t,e){const r=a.getDay(),n=r===0?7:r;switch(t){case"i":return String(n);case"ii":return A(n,t.length);case"io":return e.ordinalNumber(n,{unit:"day"});case"iii":return e.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(r,{width:"short",context:"formatting"});case"iiii":default:return e.day(r,{width:"wide",context:"formatting"})}},a:function(a,t,e){const n=a.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(a,t,e){const r=a.getHours();let n;switch(r===12?n=we.noon:r===0?n=we.midnight:n=r/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(a,t,e){const r=a.getHours();let n;switch(r>=17?n=we.evening:r>=12?n=we.afternoon:r>=4?n=we.morning:n=we.night,t){case"B":case"BB":case"BBB":return e.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(a,t,e){if(t==="ho"){let r=a.getHours()%12;return r===0&&(r=12),e.ordinalNumber(r,{unit:"hour"})}return le.h(a,t)},H:function(a,t,e){return t==="Ho"?e.ordinalNumber(a.getHours(),{unit:"hour"}):le.H(a,t)},K:function(a,t,e){const r=a.getHours()%12;return t==="Ko"?e.ordinalNumber(r,{unit:"hour"}):A(r,t.length)},k:function(a,t,e){let r=a.getHours();return r===0&&(r=24),t==="ko"?e.ordinalNumber(r,{unit:"hour"}):A(r,t.length)},m:function(a,t,e){return t==="mo"?e.ordinalNumber(a.getMinutes(),{unit:"minute"}):le.m(a,t)},s:function(a,t,e){return t==="so"?e.ordinalNumber(a.getSeconds(),{unit:"second"}):le.s(a,t)},S:function(a,t){return le.S(a,t)},X:function(a,t,e){const r=a.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return rt(r);case"XXXX":case"XX":return fe(r);case"XXXXX":case"XXX":default:return fe(r,":")}},x:function(a,t,e){const r=a.getTimezoneOffset();switch(t){case"x":return rt(r);case"xxxx":case"xx":return fe(r);case"xxxxx":case"xxx":default:return fe(r,":")}},O:function(a,t,e){const r=a.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+tt(r,":");case"OOOO":default:return"GMT"+fe(r,":")}},z:function(a,t,e){const r=a.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+tt(r,":");case"zzzz":default:return"GMT"+fe(r,":")}},t:function(a,t,e){const r=Math.trunc(+a/1e3);return A(r,t.length)},T:function(a,t,e){return A(+a,t.length)}};function tt(a,t=""){const e=a>0?"-":"+",r=Math.abs(a),n=Math.trunc(r/60),i=r%60;return i===0?e+String(n):e+String(n)+t+A(i,2)}function rt(a,t){return a%60===0?(a>0?"-":"+")+A(Math.abs(a)/60,2):fe(a,t)}function fe(a,t=""){const e=a>0?"-":"+",r=Math.abs(a),n=A(Math.trunc(r/60),2),i=A(r%60,2);return e+n+t+i}const nt=(a,t)=>{switch(a){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Mt=(a,t)=>{switch(a){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},on=(a,t)=>{const e=a.match(/(P+)(p+)?/)||[],r=e[1],n=e[2];if(!n)return nt(a,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",nt(r,t)).replace("{{time}}",Mt(n,t))},qe={p:Mt,P:on},un=/^D+$/,cn=/^Y+$/,ln=["D","DD","YY","YYYY"];function Tt(a){return un.test(a)}function Ot(a){return cn.test(a)}function Fe(a,t,e){const r=dn(a,t,e);if(console.warn(r),ln.includes(a))throw new RangeError(r)}function dn(a,t,e){const r=a[0]==="Y"?"years":"days of the month";return`Use \`${a.toLowerCase()}\` instead of \`${a}\` (in \`${t}\`) for formatting ${r} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const fn=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hn=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mn=/^'([^]*?)'?$/,yn=/''/g,gn=/[a-zA-Z]/;function wn(a,t,e){var m,g,M,x,b,w,f,o;const r=he(),n=(e==null?void 0:e.locale)??r.locale??bt,i=(e==null?void 0:e.firstWeekContainsDate)??((g=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((x=(M=r.locale)==null?void 0:M.options)==null?void 0:x.firstWeekContainsDate)??1,s=(e==null?void 0:e.weekStartsOn)??((w=(b=e==null?void 0:e.locale)==null?void 0:b.options)==null?void 0:w.weekStartsOn)??r.weekStartsOn??((o=(f=r.locale)==null?void 0:f.options)==null?void 0:o.weekStartsOn)??0,c=Y(a,e==null?void 0:e.in);if(!ht(c))throw new RangeError("Invalid time value");let l=t.match(hn).map(y=>{const d=y[0];if(d==="p"||d==="P"){const u=qe[d];return u(y,n.formatLong)}return y}).join("").match(fn).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const d=y[0];if(d==="'")return{isToken:!1,value:vn(y)};if(et[d])return{isToken:!0,value:y};if(d.match(gn))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");return{isToken:!1,value:y}});n.localize.preprocessor&&(l=n.localize.preprocessor(c,l));const h={firstWeekContainsDate:i,weekStartsOn:s,locale:n};return l.map(y=>{if(!y.isToken)return y.value;const d=y.value;(!(e!=null&&e.useAdditionalWeekYearTokens)&&Ot(d)||!(e!=null&&e.useAdditionalDayOfYearTokens)&&Tt(d))&&Fe(d,t,String(a));const u=et[d[0]];return u(c,d,n.localize,h)}).join("")}function vn(a){const t=a.match(mn);return t?t[1].replace(yn,"'"):a}function bn(){return Object.assign({},he())}function pn(a,t){const e=Y(a,t==null?void 0:t.in).getDay();return e===0?7:e}function xn(a,t){const e=Mn(t)?new t(0):J(t,0);return e.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),e.setHours(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()),e}function Mn(a){var t;return typeof a=="function"&&((t=a.prototype)==null?void 0:t.constructor)===a}const Tn=10;class kt{constructor(){T(this,"subPriority",0)}validate(t,e){return!0}}class On extends kt{constructor(t,e,r,n,i){super(),this.value=t,this.validateValue=e,this.setValue=r,this.priority=n,i&&(this.subPriority=i)}validate(t,e){return this.validateValue(t,this.value,e)}set(t,e,r){return this.setValue(t,e,this.value,r)}}class kn extends kt{constructor(e,r){super();T(this,"priority",Tn);T(this,"subPriority",-1);this.context=e||(n=>J(r,n))}set(e,r){return r.timestampIsSet?e:J(e,xn(e,this.context))}}class C{run(t,e,r,n){const i=this.parse(t,e,r,n);return i?{setter:new On(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,e,r){return!0}}class Pn extends C{constructor(){super(...arguments);T(this,"priority",140);T(this,"incompatibleTokens",["R","u","t","T"])}parse(e,r,n){switch(r){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});case"GGGG":default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,r,n){return r.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}}const te={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},oe={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function re(a,t){return a&&{value:t(a.value),rest:a.rest}}function V(a,t){const e=t.match(a);return e?{value:parseInt(e[0],10),rest:t.slice(e[0].length)}:null}function ue(a,t){const e=t.match(a);if(!e)return null;if(e[0]==="Z")return{value:0,rest:t.slice(1)};const r=e[1]==="+"?1:-1,n=e[2]?parseInt(e[2],10):0,i=e[3]?parseInt(e[3],10):0,s=e[5]?parseInt(e[5],10):0;return{value:r*(n*Pe+i*ke+s*Kt),rest:t.slice(e[0].length)}}function Pt(a){return V(te.anyDigitsSigned,a)}function K(a,t){switch(a){case 1:return V(te.singleDigit,t);case 2:return V(te.twoDigits,t);case 3:return V(te.threeDigits,t);case 4:return V(te.fourDigits,t);default:return V(new RegExp("^\\d{1,"+a+"}"),t)}}function Re(a,t){switch(a){case 1:return V(te.singleDigitSigned,t);case 2:return V(te.twoDigitsSigned,t);case 3:return V(te.threeDigitsSigned,t);case 4:return V(te.fourDigitsSigned,t);default:return V(new RegExp("^-?\\d{1,"+a+"}"),t)}}function Qe(a){switch(a){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Dt(a,t){const e=t>0,r=e?t:1-t;let n;if(r<=50)n=a||100;else{const i=r+50,s=Math.trunc(i/100)*100,c=a>=i%100;n=a+s-(c?100:0)}return e?n:1-n}function _t(a){return a%400===0||a%4===0&&a%100!==0}class Dn extends C{constructor(){super(...arguments);T(this,"priority",130);T(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,r,n){const i=s=>({year:s,isTwoDigitYear:r==="yy"});switch(r){case"y":return re(K(4,e),i);case"yo":return re(n.ordinalNumber(e,{unit:"year"}),i);default:return re(K(r.length,e),i)}}validate(e,r){return r.isTwoDigitYear||r.year>0}set(e,r,n){const i=e.getFullYear();if(n.isTwoDigitYear){const c=Dt(n.year,i);return e.setFullYear(c,0,1),e.setHours(0,0,0,0),e}const s=!("era"in r)||r.era===1?n.year:1-n.year;return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}}class _n extends C{constructor(){super(...arguments);T(this,"priority",130);T(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,r,n){const i=s=>({year:s,isTwoDigitYear:r==="YY"});switch(r){case"Y":return re(K(4,e),i);case"Yo":return re(n.ordinalNumber(e,{unit:"year"}),i);default:return re(K(r.length,e),i)}}validate(e,r){return r.isTwoDigitYear||r.year>0}set(e,r,n,i){const s=$e(e,i);if(n.isTwoDigitYear){const l=Dt(n.year,s);return e.setFullYear(l,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),ce(e,i)}const c=!("era"in r)||r.era===1?n.year:1-n.year;return e.setFullYear(c,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),ce(e,i)}}class En extends C{constructor(){super(...arguments);T(this,"priority",130);T(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,r){return Re(r==="R"?4:r.length,e)}set(e,r,n){const i=J(e,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),ve(i)}}class Nn extends C{constructor(){super(...arguments);T(this,"priority",130);T(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,r){return Re(r==="u"?4:r.length,e)}set(e,r,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}}class jn extends C{constructor(){super(...arguments);T(this,"priority",120);T(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,r,n){switch(r){case"Q":case"QQ":return K(r.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=1&&r<=4}set(e,r,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}}class Rn extends C{constructor(){super(...arguments);T(this,"priority",120);T(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,r,n){switch(r){case"q":case"qq":return K(r.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,r){return r>=1&&r<=4}set(e,r,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}}class Yn extends C{constructor(){super(...arguments);T(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);T(this,"priority",110)}parse(e,r,n){const i=s=>s-1;switch(r){case"M":return re(V(te.month,e),i);case"MM":return re(K(2,e),i);case"Mo":return re(n.ordinalNumber(e,{unit:"month"}),i);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=0&&r<=11}set(e,r,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}}class Sn extends C{constructor(){super(...arguments);T(this,"priority",110);T(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,r,n){const i=s=>s-1;switch(r){case"L":return re(V(te.month,e),i);case"LL":return re(K(2,e),i);case"Lo":return re(n.ordinalNumber(e,{unit:"month"}),i);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,r){return r>=0&&r<=11}set(e,r,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}}function Wn(a,t,e){const r=Y(a,e==null?void 0:e.in),n=xt(r,e)-t;return r.setDate(r.getDate()-n*7),Y(r,e==null?void 0:e.in)}class Ln extends C{constructor(){super(...arguments);T(this,"priority",100);T(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,r,n){switch(r){case"w":return V(te.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return K(r.length,e)}}validate(e,r){return r>=1&&r<=53}set(e,r,n,i){return ce(Wn(e,n,i),i)}}function In(a,t,e){const r=Y(a,e==null?void 0:e.in),n=pt(r,e)-t;return r.setDate(r.getDate()-n*7),r}class Cn extends C{constructor(){super(...arguments);T(this,"priority",100);T(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,r,n){switch(r){case"I":return V(te.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return K(r.length,e)}}validate(e,r){return r>=1&&r<=53}set(e,r,n){return ve(In(e,n))}}const qn=[31,28,31,30,31,30,31,31,30,31,30,31],Fn=[31,29,31,30,31,30,31,31,30,31,30,31];class Hn extends C{constructor(){super(...arguments);T(this,"priority",90);T(this,"subPriority",1);T(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,r,n){switch(r){case"d":return V(te.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return K(r.length,e)}}validate(e,r){const n=e.getFullYear(),i=_t(n),s=e.getMonth();return i?r>=1&&r<=Fn[s]:r>=1&&r<=qn[s]}set(e,r,n){return e.setDate(n),e.setHours(0,0,0,0),e}}class An extends C{constructor(){super(...arguments);T(this,"priority",90);T(this,"subpriority",1);T(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,r,n){switch(r){case"D":case"DD":return V(te.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return K(r.length,e)}}validate(e,r){const n=e.getFullYear();return _t(n)?r>=1&&r<=366:r>=1&&r<=365}set(e,r,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}}function Xe(a,t,e){var g,M,x,b;const r=he(),n=(e==null?void 0:e.weekStartsOn)??((M=(g=e==null?void 0:e.locale)==null?void 0:g.options)==null?void 0:M.weekStartsOn)??r.weekStartsOn??((b=(x=r.locale)==null?void 0:x.options)==null?void 0:b.weekStartsOn)??0,i=Y(a,e==null?void 0:e.in),s=i.getDay(),l=(t%7+7)%7,h=7-n,m=t<0||t>6?t-(s+h)%7:(l+h)%7-(s+h)%7;return Ye(i,m,e)}class Bn extends C{constructor(){super(...arguments);T(this,"priority",90);T(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,r,n){switch(r){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=0&&r<=6}set(e,r,n,i){return e=Xe(e,n,i),e.setHours(0,0,0,0),e}}class $n extends C{constructor(){super(...arguments);T(this,"priority",90);T(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,r,n,i){const s=c=>{const l=Math.floor((c-1)/7)*7;return(c+i.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return re(K(r.length,e),s);case"eo":return re(n.ordinalNumber(e,{unit:"day"}),s);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=0&&r<=6}set(e,r,n,i){return e=Xe(e,n,i),e.setHours(0,0,0,0),e}}class Qn extends C{constructor(){super(...arguments);T(this,"priority",90);T(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,r,n,i){const s=c=>{const l=Math.floor((c-1)/7)*7;return(c+i.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return re(K(r.length,e),s);case"co":return re(n.ordinalNumber(e,{unit:"day"}),s);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,r){return r>=0&&r<=6}set(e,r,n,i){return e=Xe(e,n,i),e.setHours(0,0,0,0),e}}function Xn(a,t,e){const r=Y(a,e==null?void 0:e.in),n=pn(r,e),i=t-n;return Ye(r,i,e)}class zn extends C{constructor(){super(...arguments);T(this,"priority",90);T(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,r,n){const i=s=>s===0?7:s;switch(r){case"i":case"ii":return K(r.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return re(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),i);case"iiiii":return re(n.day(e,{width:"narrow",context:"formatting"}),i);case"iiiiii":return re(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),i);case"iiii":default:return re(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),i)}}validate(e,r){return r>=1&&r<=7}set(e,r,n){return e=Xn(e,n),e.setHours(0,0,0,0),e}}class Gn extends C{constructor(){super(...arguments);T(this,"priority",80);T(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,r,n){switch(r){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,r,n){return e.setHours(Qe(n),0,0,0),e}}class Vn extends C{constructor(){super(...arguments);T(this,"priority",80);T(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,r,n){switch(r){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,r,n){return e.setHours(Qe(n),0,0,0),e}}class Un extends C{constructor(){super(...arguments);T(this,"priority",80);T(this,"incompatibleTokens",["a","b","t","T"])}parse(e,r,n){switch(r){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,r,n){return e.setHours(Qe(n),0,0,0),e}}class Zn extends C{constructor(){super(...arguments);T(this,"priority",70);T(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,r,n){switch(r){case"h":return V(te.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return K(r.length,e)}}validate(e,r){return r>=1&&r<=12}set(e,r,n){const i=e.getHours()>=12;return i&&n<12?e.setHours(n+12,0,0,0):!i&&n===12?e.setHours(0,0,0,0):e.setHours(n,0,0,0),e}}class Jn extends C{constructor(){super(...arguments);T(this,"priority",70);T(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,r,n){switch(r){case"H":return V(te.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return K(r.length,e)}}validate(e,r){return r>=0&&r<=23}set(e,r,n){return e.setHours(n,0,0,0),e}}class Kn extends C{constructor(){super(...arguments);T(this,"priority",70);T(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,r,n){switch(r){case"K":return V(te.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return K(r.length,e)}}validate(e,r){return r>=0&&r<=11}set(e,r,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}}class ea extends C{constructor(){super(...arguments);T(this,"priority",70);T(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,r,n){switch(r){case"k":return V(te.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return K(r.length,e)}}validate(e,r){return r>=1&&r<=24}set(e,r,n){const i=n<=24?n%24:n;return e.setHours(i,0,0,0),e}}class ta extends C{constructor(){super(...arguments);T(this,"priority",60);T(this,"incompatibleTokens",["t","T"])}parse(e,r,n){switch(r){case"m":return V(te.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return K(r.length,e)}}validate(e,r){return r>=0&&r<=59}set(e,r,n){return e.setMinutes(n,0,0),e}}class ra extends C{constructor(){super(...arguments);T(this,"priority",50);T(this,"incompatibleTokens",["t","T"])}parse(e,r,n){switch(r){case"s":return V(te.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return K(r.length,e)}}validate(e,r){return r>=0&&r<=59}set(e,r,n){return e.setSeconds(n,0),e}}class na extends C{constructor(){super(...arguments);T(this,"priority",30);T(this,"incompatibleTokens",["t","T"])}parse(e,r){const n=i=>Math.trunc(i*Math.pow(10,-r.length+3));return re(K(r.length,e),n)}set(e,r,n){return e.setMilliseconds(n),e}}class aa extends C{constructor(){super(...arguments);T(this,"priority",10);T(this,"incompatibleTokens",["t","T","x"])}parse(e,r){switch(r){case"X":return ue(oe.basicOptionalMinutes,e);case"XX":return ue(oe.basic,e);case"XXXX":return ue(oe.basicOptionalSeconds,e);case"XXXXX":return ue(oe.extendedOptionalSeconds,e);case"XXX":default:return ue(oe.extended,e)}}set(e,r,n){return r.timestampIsSet?e:J(e,e.getTime()-je(e)-n)}}class ia extends C{constructor(){super(...arguments);T(this,"priority",10);T(this,"incompatibleTokens",["t","T","X"])}parse(e,r){switch(r){case"x":return ue(oe.basicOptionalMinutes,e);case"xx":return ue(oe.basic,e);case"xxxx":return ue(oe.basicOptionalSeconds,e);case"xxxxx":return ue(oe.extendedOptionalSeconds,e);case"xxx":default:return ue(oe.extended,e)}}set(e,r,n){return r.timestampIsSet?e:J(e,e.getTime()-je(e)-n)}}class sa extends C{constructor(){super(...arguments);T(this,"priority",40);T(this,"incompatibleTokens","*")}parse(e){return Pt(e)}set(e,r,n){return[J(e,n*1e3),{timestampIsSet:!0}]}}class oa extends C{constructor(){super(...arguments);T(this,"priority",20);T(this,"incompatibleTokens","*")}parse(e){return Pt(e)}set(e,r,n){return[J(e,n),{timestampIsSet:!0}]}}const ua={G:new Pn,y:new Dn,Y:new _n,R:new En,u:new Nn,Q:new jn,q:new Rn,M:new Yn,L:new Sn,w:new Ln,I:new Cn,d:new Hn,D:new An,E:new Bn,e:new $n,c:new Qn,i:new zn,a:new Gn,b:new Vn,B:new Un,h:new Zn,H:new Jn,K:new Kn,k:new ea,m:new ta,s:new ra,S:new na,X:new aa,x:new ia,t:new sa,T:new oa},ca=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,la=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,da=/^'([^]*?)'?$/,fa=/''/g,ha=/\S/,ma=/[a-zA-Z]/;function ya(a,t,e,r){var f,o,y,d,u,v,_,j;const n=()=>J((r==null?void 0:r.in)||e,NaN),i=bn(),s=(r==null?void 0:r.locale)??i.locale??bt,c=(r==null?void 0:r.firstWeekContainsDate)??((o=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:o.firstWeekContainsDate)??i.firstWeekContainsDate??((d=(y=i.locale)==null?void 0:y.options)==null?void 0:d.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((v=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:v.weekStartsOn)??i.weekStartsOn??((j=(_=i.locale)==null?void 0:_.options)==null?void 0:j.weekStartsOn)??0;if(!t)return a?n():Y(e,r==null?void 0:r.in);const h={firstWeekContainsDate:c,weekStartsOn:l,locale:s},m=[new kn(r==null?void 0:r.in,e)],g=t.match(la).map(O=>{const E=O[0];if(E in qe){const L=qe[E];return L(O,s.formatLong)}return O}).join("").match(ca),M=[];for(let O of g){!(r!=null&&r.useAdditionalWeekYearTokens)&&Ot(O)&&Fe(O,t,a),!(r!=null&&r.useAdditionalDayOfYearTokens)&&Tt(O)&&Fe(O,t,a);const E=O[0],L=ua[E];if(L){const{incompatibleTokens:W}=L;if(Array.isArray(W)){const Z=M.find(ee=>W.includes(ee.token)||ee.token===E);if(Z)throw new RangeError(`The format string mustn't contain \`${Z.fullToken}\` and \`${O}\` at the same time`)}else if(L.incompatibleTokens==="*"&&M.length>0)throw new RangeError(`The format string mustn't contain \`${O}\` and any other token at the same time`);M.push({token:E,fullToken:O});const U=L.run(a,O,s.match,h);if(!U)return n();m.push(U.setter),a=U.rest}else{if(E.match(ma))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");if(O==="''"?O="'":E==="'"&&(O=ga(O)),a.indexOf(O)===0)a=a.slice(O.length);else return n()}}if(a.length>0&&ha.test(a))return n();const x=m.map(O=>O.priority).sort((O,E)=>E-O).filter((O,E,L)=>L.indexOf(O)===E).map(O=>m.filter(E=>E.priority===O).sort((E,L)=>L.subPriority-E.subPriority)).map(O=>O[0]);let b=Y(e,r==null?void 0:r.in);if(isNaN(+b))return n();const w={};for(const O of x){if(!O.validate(b,h))return n();const E=O.set(b,w,h);Array.isArray(E)?(b=E[0],Object.assign(w,E[1])):b=E}return b}function ga(a){return a.match(da)[1].replace(fa,"'")}function wa(a,t){const e=Y(a,t==null?void 0:t.in);return e.setMinutes(0,0,0),e}function va(a,t){const e=Y(a,t==null?void 0:t.in);return e.setSeconds(0,0),e}function ba(a,t){const e=Y(a,t==null?void 0:t.in);return e.setMilliseconds(0),e}function pa(a,t){const e=()=>J(t==null?void 0:t.in,NaN),r=(t==null?void 0:t.additionalDigits)??2,n=Oa(a);let i;if(n.date){const h=ka(n.date,r);i=Pa(h.restDateString,h.year)}if(!i||isNaN(+i))return e();const s=+i;let c=0,l;if(n.time&&(c=Da(n.time),isNaN(c)))return e();if(n.timezone){if(l=_a(n.timezone),isNaN(l))return e()}else{const h=new Date(s+c),m=Y(0,t==null?void 0:t.in);return m.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),m.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),m}return Y(s+c+l,t==null?void 0:t.in)}const _e={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},xa=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ma=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Ta=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Oa(a){const t={},e=a.split(_e.dateTimeDelimiter);let r;if(e.length>2)return t;if(/:/.test(e[0])?r=e[0]:(t.date=e[0],r=e[1],_e.timeZoneDelimiter.test(t.date)&&(t.date=a.split(_e.timeZoneDelimiter)[0],r=a.substr(t.date.length,a.length))),r){const n=_e.timezone.exec(r);n?(t.time=r.replace(n[1],""),t.timezone=n[1]):t.time=r}return t}function ka(a,t){const e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=a.match(e);if(!r)return{year:NaN,restDateString:""};const n=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?n:i*100,restDateString:a.slice((r[1]||r[2]).length)}}function Pa(a,t){if(t===null)return new Date(NaN);const e=a.match(xa);if(!e)return new Date(NaN);const r=!!e[4],n=xe(e[1]),i=xe(e[2])-1,s=xe(e[3]),c=xe(e[4]),l=xe(e[5])-1;if(r)return Ya(t,c,l)?Ea(t,c,l):new Date(NaN);{const h=new Date(0);return!ja(t,i,s)||!Ra(t,n)?new Date(NaN):(h.setUTCFullYear(t,i,Math.max(n,s)),h)}}function xe(a){return a?parseInt(a):1}function Da(a){const t=a.match(Ma);if(!t)return NaN;const e=Le(t[1]),r=Le(t[2]),n=Le(t[3]);return Sa(e,r,n)?e*Pe+r*ke+n*1e3:NaN}function Le(a){return a&&parseFloat(a.replace(",","."))||0}function _a(a){if(a==="Z")return 0;const t=a.match(Ta);if(!t)return 0;const e=t[1]==="+"?-1:1,r=parseInt(t[2]),n=t[3]&&parseInt(t[3])||0;return Wa(r,n)?e*(r*Pe+n*ke):NaN}function Ea(a,t,e){const r=new Date(0);r.setUTCFullYear(a,0,4);const n=r.getUTCDay()||7,i=(t-1)*7+e+1-n;return r.setUTCDate(r.getUTCDate()+i),r}const Na=[31,null,31,30,31,30,31,31,30,31,30,31];function Et(a){return a%400===0||a%4===0&&a%100!==0}function ja(a,t,e){return t>=0&&t<=11&&e>=1&&e<=(Na[t]||(Et(a)?29:28))}function Ra(a,t){return t>=1&&t<=(Et(a)?366:365)}function Ya(a,t,e){return t>=1&&t<=53&&e>=0&&e<=6}function Sa(a,t,e){return a===24?t===0&&e===0:e>=0&&e<60&&t>=0&&t<60&&a>=0&&a<25}function Wa(a,t){return t>=0&&t<=59}/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const La={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};Lt._date.override({_id:"date-fns",formats:function(){return La},parse:function(a,t){if(a===null||typeof a>"u")return null;const e=typeof a;return e==="number"||a instanceof Date?a=Y(a):e==="string"&&(typeof t=="string"?a=ya(a,t,new Date,this.options):a=pa(a,this.options)),ht(a)?a.getTime():null},format:function(a,t){return wn(a,t,this.options)},add:function(a,t,e){switch(e){case"millisecond":return Ae(a,t);case"second":return ir(a,t);case"minute":return nr(a,t);case"hour":return er(a,t);case"day":return Ye(a,t);case"week":return sr(a,t);case"month":return He(a,t);case"quarter":return ar(a,t);case"year":return or(a,t);default:return a}},diff:function(a,t,e){switch(e){case"millisecond":return Be(a,t);case"second":return yr(a,t);case"minute":return fr(a,t);case"hour":return dr(a,t);case"day":return mt(a,t);case"week":return gr(a,t);case"month":return wt(a,t);case"quarter":return mr(a,t);case"year":return wr(a,t);default:return 0}},startOf:function(a,t,e){switch(t){case"second":return ba(a);case"minute":return va(a);case"hour":return wa(a);case"day":return Ce(a);case"week":return ce(a);case"isoWeek":return ce(a,{weekStartsOn:+e});case"month":return br(a);case"quarter":return vr(a);case"year":return vt(a);default:return a}},endOf:function(a,t){switch(t){case"second":return kr(a);case"minute":return Tr(a);case"hour":return xr(a);case"day":return yt(a);case"week":return Mr(a);case"month":return gt(a);case"quarter":return Or(a);case"year":return pr(a);default:return a}}});st.register(It,Ct,qt,Ft,ot,Ht,At,Bt,Ee,Ne);function at({series:a=[],labels:t=[],candles:e=[],showCandles:r=!1}){const n=ne.useMemo(()=>r&&e.length?{datasets:[{type:"candlestick",label:"OHLC",data:e.map(s=>({x:new Date(s.time),o:Number(s.open),h:Number(s.high),l:Number(s.low),c:Number(s.close)})),borderColor:{up:"#10b981",down:"#ef4444",unchanged:"#555"},color:{up:"#10b981",down:"#ef4444",unchanged:"#999"}}]}:{labels:t,datasets:[{label:"Equity",type:"line",data:a,borderColor:"#60a5fa",backgroundColor:"rgba(96,165,250,0.12)",fill:!0,tension:.25,pointRadius:0}]},[a,t,e,r]),i={maintainAspectRatio:!1,scales:{x:{type:"time",time:{unit:"hour"},grid:{display:!1},ticks:{color:"#aaa"}},y:{grid:{color:"rgba(255,255,255,0.05)"},ticks:{color:"#aaa"}}},plugins:{legend:{display:!1},tooltip:{enabled:!0}}};return p.jsx("div",{style:{height:320},children:p.jsx($t,{type:r?"candlestick":"line",data:n,options:i})})}function Ia({title:a="Stats",stats:t={}}){const e=Object.entries(t||{});return p.jsxs("div",{className:"p-4 bg-[#071018] rounded-xl border border-[#0f1720]",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsx("div",{className:"text-sm text-gray-400",children:a}),p.jsx("div",{className:"text-xs text-gray-500",children:"Summary"})]}),p.jsxs("div",{className:"space-y-2",children:[e.map(([r,n],i)=>p.jsxs("div",{className:"flex justify-between items-center text-sm p-2 rounded hover:bg-[#08121a]",children:[p.jsx("div",{className:"text-gray-300",children:r}),p.jsx("div",{className:"text-gray-100 font-medium",children:n})]},r)),e.length===0&&p.jsx("div",{className:"text-xs text-gray-500",children:"No stats"})]})]})}function Ca(){const{liveData:a,subscribeTrades:t,unsubscribeTrades:e,orders:r=[],alerts:n=[]}=ut(),i=ne.useRef(null),s=ne.useRef(null),c=ne.useRef(null),[l,h]=ne.useState(!0),[m,g]=ne.useState(!0),M=ne.useCallback((x=[],b=[])=>{const w=[];return(x||[]).forEach(f=>{try{let o=null;if(f.time?o=Math.floor(new Date(f.time).getTime()/1e3):f.t&&(o=typeof f.t=="number"&&f.t>1e10?Math.floor(f.t/1e3):f.t),!o||!f.price)return;const y=(f.side||"").toString().toLowerCase();w.push({time:o,position:y==="buy"?"below":"above",color:y==="buy"?"#10b981":"#ef4444",shape:y==="buy"?"arrowUp":"arrowDown",text:`${(f.side||"").toUpperCase()} ${f.qty??""}`})}catch{}}),(b||[]).forEach(f=>{try{let o=null;if(f.time?o=Math.floor(new Date(f.time).getTime()/1e3):f.firedAt&&(o=Math.floor(new Date(f.firedAt).getTime()/1e3)),!o)return;w.push({time:o,position:"above",color:"#f59e0b",shape:"circle",text:`AL:${f.id??f.metric??"?"}`})}catch{}}),w},[]);return ne.useEffect(()=>{if(!i.current)return;const x=zt(i.current,{height:520});s.current=x;try{const w=i.current.clientWidth||i.current.offsetWidth||800;x.chart.applyOptions({width:w})}catch{}const b=document.getElementById("dashboard-price-tracker");try{x.chart.subscribeCrosshairMove(w=>{if(!b)return;if(!w||!w.time){b.style.display="none";return}const f=w.seriesPrices.get(x.candleSeries);if(f==null){b.style.display="none";return}b.style.display="block",b.innerText=`$${Number(f).toFixed(2)}`})}catch{}try{c.current=new ResizeObserver(()=>{try{const w=i.current.clientWidth;x.chart.applyOptions({width:w})}catch{}}),c.current.observe(i.current)}catch{const f=()=>{try{x.chart.applyOptions({width:i.current.clientWidth})}catch{}};window.addEventListener("resize",f),c.current={disconnect:()=>window.removeEventListener("resize",f)}}return()=>{try{c.current&&typeof c.current.disconnect=="function"&&c.current.disconnect()}catch{}try{Gt(x)}catch{}s.current=null}},[]),ne.useEffect(()=>{const x=s.current;if(!x)return;const b=a&&Array.isArray(a.candles)?a.candles:[];try{x.setCandles(b)}catch{}try{x.setVolume(b)}catch{}try{const w=M(r||[],n||[]);x.setMarkers(w)}catch{}try{x.resetOverlays()}catch{}if(l&&b.length)try{const w=b.map(d=>Number(d.close??d.c??0)),o=Ge(w,20).map((d,u)=>({time:Math.floor(new Date(b[u].time).getTime()/1e3),value:Number(d)})),y=x.addOverlayLine({color:"#f97316",lineWidth:2});try{y.setData(o)}catch{}}catch{}if(m&&b.length)try{const w=b.map(d=>Number(d.close??d.c??0)),o=Ge(w,50).map((d,u)=>({time:Math.floor(new Date(b[u].time).getTime()/1e3),value:Number(d)})),y=x.addOverlayLine({color:"#a78bfa",lineWidth:2});try{y.setData(o)}catch{}}catch{}},[a,r,n,l,m,M]),ne.useEffect(()=>{const x=s.current;if(!x)return;const b=w=>{var f,o;try{const y=w.p?Number(w.p):(f=w.k)!=null&&f.c?Number(w.k.c):null,d=w.q?Number(w.q):(o=w.k)!=null&&o.q?Number(w.k.q):0,u=w.T?new Date(w.T).toISOString():w.E?new Date(w.E).toISOString():new Date().toISOString();if(y==null)return;const v={time:u,open:y,high:y,low:y,close:y,volume:d};try{x.updateLatest(v)}catch{}}catch{}};try{t(b)}catch{}return()=>{try{e(b)}catch{}}},[t,e]),ne.useEffect(()=>{!a||!Array.isArray(a.candles)||a.candles.length},[a]),p.jsxs("div",{className:"w-full",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-sm text-gray-400",children:"Dashboard Live Chart (mirrors Live)"}),p.jsx("div",{className:"text-xs text-gray-500",children:"Candles  Volume  EMA20/50  Markers  Alerts"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:()=>h(x=>!x),className:`px-2 py-1 rounded text-sm ${l?"bg-[#111827] text-white":"text-gray-300"}`,children:"EMA20"}),p.jsx("button",{onClick:()=>g(x=>!x),className:`px-2 py-1 rounded text-sm ${m?"bg-[#111827] text-white":"text-gray-300"}`,children:"EMA50"})]})]}),p.jsxs("div",{style:{height:520},className:"relative w-full",children:[p.jsx("div",{ref:i,style:{width:"100%",height:"100%"}}),p.jsx("div",{id:"dashboard-price-tracker",style:{position:"absolute",right:12,top:32,padding:"6px 10px",background:"rgba(10,11,13,0.85)",color:"#fff",borderRadius:8,fontSize:12,display:"none",zIndex:20}})]})]})}function Qa(){var L,W,U,Z,ee,ae;const{data:a,csvData:t,liveData:e,mode:r,setMode:n,loadCSVFile:i,loadDemo:s,syncLiveToDashboard:c,isLiveSynced:l,setIsLiveSynced:h}=ut(),[m,g]=ne.useState("overview"),M=r==="live"&&e?x(e):a||t||{};function x(P){return!P||!Array.isArray(P.candles)?{}:{equityData:P.candles.map(D=>({date:D.time,equity:Number(D.close)})),drawdownData:(()=>{let D=-1/0;return P.candles.map(S=>{const R=Number(S.close);return R>D&&(D=R),{date:S.time,value:D?(R-D)/D:0}})})(),orders:P.orders||[],tradeVolume:[],kpis:{}}}const b=M||{},w=b.equityData||[],f=w.map(P=>P.date),o=w.map(P=>Number(P.equity||0)),y=ne.useMemo(()=>{const P=[];for(let D=1;D<o.length;D++){const S=o[D-1]||0,R=o[D]||0;P.push(S===0?0:(R-S)/S)}return P},[o]);function d(P=[]){if(!P.length)return 0;const D=P.reduce((R,Q)=>R+Q,0)/P.length,S=Math.sqrt(P.reduce((R,Q)=>R+(Q-D)**2,0)/P.length);return S===0?0:D/S*Math.sqrt(252)}const u=b.drawdownData||[];u.map(P=>P.date),u.map(P=>P.value),u.map(P=>P.value<0?"rgba(239,68,68,0.85)":"rgba(34,197,94,0.8)");const v=b.tradeVolume||[],_={labels:v.map(P=>P.date),datasets:[{label:"Buy",data:v.map(P=>P.buy||0),backgroundColor:"#06b6d4"},{label:"Sell",data:v.map(P=>P.sell||0),backgroundColor:"#7c3aed"}]};ne.useMemo(()=>{const P=Array(20).fill(0);if(!y.length)return{labels:P.map((Q,se)=>se),datasets:[{data:P}]};const D=Math.min(...y),R=(Math.max(...y)-D)/P.length||1;return y.forEach(Q=>{const se=Math.min(P.length-1,Math.floor((Q-D)/R));P[se]+=1}),{labels:P.map((Q,se)=>se),datasets:[{label:"Returns",data:P,backgroundColor:"#f59e0b"}]}},[y]);const j={total_pl:((L=b.kpis)==null?void 0:L.total_pl)||0,win_rate:((W=b.kpis)==null?void 0:W.win_rate)||0,max_drawdown:typeof((U=b.kpis)==null?void 0:U.max_drawdown)=="number"?b.kpis.max_drawdown:((Z=b.kpis)==null?void 0:Z.max_drawdown)||0,total_trades:((ee=b.kpis)==null?void 0:ee.total_trades)||0,equitySeries:o,drawdownSeries:u.map(P=>P.value)},O=async P=>{var S;const D=(S=P.target.files)==null?void 0:S[0];D&&await i(D),n("csv")},E=async()=>{var P;if(!((P=e==null?void 0:e.candles)!=null&&P.length)){alert("No live dataset available. Open Live tab and load a symbol first.");return}try{c(e),n("csv"),h(!0),Ve.success("Dashboard synced with Live data")}catch(D){console.error("Dashboard sync failed",D),Ve.error("Sync failed")}};return p.jsxs("div",{className:"space-y-6 p-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl font-semibold",children:"Trading Overview"}),p.jsx("div",{className:"text-sm text-gray-400",children:"Snapshot of backtest / live data"})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("input",{type:"file",accept:".csv",onChange:O,className:"file:rounded file:px-3 file:py-1 file:bg-indigo-600 file:text-white text-sm"}),p.jsx("button",{onClick:s,className:"px-4 py-2 bg-emerald-600 text-white rounded text-sm",children:"Load Demo Data"}),p.jsxs("div",{className:"bg-[#071026] rounded p-1 flex text-sm",children:[p.jsx("button",{onClick:()=>n("csv"),className:`px-3 py-1 rounded ${r==="csv"?"bg-[#0b69ff] text-white":"text-gray-300"}`,children:"CSV MODE"}),p.jsx("button",{onClick:()=>n("live"),className:`ml-2 px-3 py-1 rounded ${r==="live"?"bg-[#06b6d4] text-black":"text-gray-300"}`,children:"LIVE MODE"})]})]})]}),p.jsx(Ut,{kpis:j}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:()=>g("overview"),className:`px-3 py-2 rounded ${m==="overview"?"bg-[#0b1220] text-white":"text-gray-300"}`,children:"Overview"}),p.jsx("button",{onClick:()=>g("equity"),className:`px-3 py-2 rounded ${m==="equity"?"bg-[#0b1220] text-white":"text-gray-300"}`,children:"Equity"}),p.jsx("button",{onClick:()=>g("livechart"),className:`px-3 py-2 rounded ${m==="livechart"?"bg-[#0b1220] text-white":"text-gray-300"}`,children:"Live Chart"})]}),m==="overview"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"col-span-2 glass-card p-5",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-sm text-gray-400",children:"Equity Curve"}),p.jsx("div",{className:"text-lg font-medium text-white",children:"Portfolio Growth"})]}),p.jsxs("div",{className:"text-sm text-gray-400",children:[o.length," points"]})]}),p.jsx("div",{className:"mt-4",children:p.jsx(at,{series:o,labels:f})})]}),p.jsx("div",{className:"glass-card p-4",children:p.jsx(Ia,{title:"Key Stats",stats:{"Sharpe (ann)":d(y).toFixed(2),"Total Points":o.length,"Max Drawdown":`${(Math.min(...u.map(P=>P.value)||[0])*100).toFixed(2)}%`,Trades:((ae=b.kpis)==null?void 0:ae.total_trades)||0}})})]}),p.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"glass-card p-4",children:[p.jsx("div",{className:"text-sm text-gray-400",children:"Buy vs Sell Volume"}),p.jsx("div",{className:"h-52 mt-4",children:p.jsx(Qt,{data:_,options:{maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{x:{stacked:!0},y:{stacked:!0}}}})})]}),p.jsxs("div",{className:"glass-card p-4",children:[p.jsx("div",{className:"text-sm text-gray-400",children:"Recent Orders"}),p.jsx("div",{className:"mt-3",children:p.jsx(Xt,{orders:b.orders||[]})})]})]})]}),m==="livechart"&&p.jsxs("div",{className:"glass-card p-5 w-full min-h-[520px]",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-sm text-gray-400",children:"Dashboard Live Chart (mirrors Live)"}),p.jsx("div",{className:"text-xs text-gray-500",children:"Candles  Volume  EMA20/50  Markers  Alerts"})]}),!l&&p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:E,className:"px-3 py-2 bg-blue-600 rounded text-white text-sm",children:"Sync Now"}),p.jsx("div",{className:"text-xs text-gray-400",children:"or sync from Live tab"})]})]}),l?p.jsx("div",{className:"w-full",children:p.jsx(Ca,{})}):p.jsxs("div",{className:"text-center text-gray-400 py-20",children:[p.jsx("div",{className:"text-lg font-semibold mb-2",children:"No live data synced"}),p.jsxs("div",{className:"text-sm mb-4",children:["Open the Live tab and click ",p.jsx("b",{children:"Sync  Dashboard"})," OR use the button above."]}),p.jsx("button",{onClick:E,className:"px-4 py-2 bg-blue-600 text-white rounded text-sm",children:"Sync Now"})]})]}),m==="equity"&&p.jsxs("div",{className:"glass-card p-5",children:[p.jsx("div",{className:"text-sm text-gray-400",children:"Equity  full view"}),p.jsx("div",{className:"mt-4",children:p.jsx(at,{series:o,labels:f})})]})]})}export{Qa as default};
